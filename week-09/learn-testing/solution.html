<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learn Testing</title>
  </head>
  <body>
    <h1>Open the console</h1>

    <script>
      // the function we're testing
      function square(x) {
        return x * x;
      }

      function equal(expected, actual, message) {
        if (expected === actual) {
          const defaultMessage = `Expected ${expected} and received ${actual}`;
          console.info("Pass: " + (message || defaultMessage));
        } else {
          const defaultMessage = `Expected ${expected} but received ${actual} instead`;
          console.error("Fail: " + (message || defaultMessage));
        }
      }

      function notEqual(actual, expected, message) {
        if (actual !== expected) {
          const defaultMessage = `${expected} is different to ${actual}`;
          console.info("Pass: " + (message || defaultMessage));
        } else {
          const defaultMessage = `${expected} is the same as ${actual}`;
          console.error("Fail: " + (message || defaultMessage));
        }
      }

      function test(name, testFunction) {
        console.group(name);
        testFunction();
        console.groupEnd(name);
      }

      // our tests
      test("Correctly squares integers", () => {
        const result = square(2);
        const expected = 4;
        equal(result, expected);
        equal(result, 2); // this one will fail
        notEqual(result, 5);
      });

      test("Correctly squares decimals", () => {
        const result = square(2.23);
        const expected = 4.9729;
        equal(result, expected);
      });
    </script>
  </body>
</html>
